# Test Report

## Overview
All Jest unit and integration tests were executed using `npm run test:unit` after initializing the database via `scripts/ensure-db-init.js`.
The new `openapi.rbac.test.ts` suite dynamically validates RBAC for every operation defined in `docs/openapi.yaml`.

## Results
- **Total Suites:** 27
- **Total Tests:** 283
- **Status:** All tests passed

## Role Access Validation
The RBAC test iterates over each path and method annotated with `x-roles` and issues requests as `owner`, `manager`, `attendant`, and an unauthenticated user. Responses are checked for proper `403` errors when roles lack permission.

## Bugs Fixed
| ID | Description | Resolution |
| --- | ----------- | ---------- |
| 2026-08-29 | Missing automated RBAC coverage | Added `tests/openapi.rbac.test.ts` and JWT secret in `.env.test` |

## APIs Requiring Attention
No new API issues were observed during testing. Error logs stemmed from placeholder IDs in the autogenerated tests and are expected.
